<!DOCTYPE html>
<html lang="z">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    
    <title>Ghost 博客完善指南 | 跃迁引擎</title>
    <meta name="renderer" content="webkit">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta name="description" content="本文主要介绍利用阿里云进行域名备案的详细流程，Ghost 博客接入 Disque、全站 HTTPS 配置、CDN 图床配置、汉化、代码高亮、修改字体等配置。">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Ghost 博客完善指南 | 跃迁引擎">
    <meta name="twitter:description" content="本文主要介绍利用阿里云进行域名备案的详细流程，Ghost 博客接入 Disque、全站 HTTPS 配置、CDN 图床配置、汉化、代码高亮、修改字体等配置。">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Ghost 博客完善指南 | 跃迁引擎">
    <meta property="og:description" content="本文主要介绍利用阿里云进行域名备案的详细流程，Ghost 博客接入 Disque、全站 HTTPS 配置、CDN 图床配置、汉化、代码高亮、修改字体等配置。">

    
    <meta name="author" content="ShevaKuilin">
    
    
<link rel="stylesheet" href="/css/vno.css">

    
<link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">


    
    <link rel="icon" href="/images/favicon.png">
    

    <meta name="generator" content="hexo"/>
    

    <link rel="canonical" href="http://shevakuilin.com/ghost-guide/"/>

                 
</head>

<body class="home-template no-js">
    
<script src="//cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>

    
<script src="/js/main.js"></script>

    <span class="mobile btn-mobile-menu">
        <i class="fa fa-list btn-mobile-menu__icon"></i>
        <i class="fa fa-angle-up btn-mobile-close__icon hidden"></i>
    </span>

    
<header class="panel-cover panel-cover--collapsed" style="background-image: url(/images/background.jpg)">
  <div class="panel-main">
    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        <a href="/" title="前往 跃迁引擎 的主页"><img src="/images/avatar.jpeg" width="80" alt="跃迁引擎 logo" class="panel-cover__logo logo" /></a>
        <h1 class="panel-cover__title panel-title"><a href="/" title="link to homepage for 跃迁引擎">跃迁引擎</a></h1>
        
        <span class="panel-cover__subtitle panel-subtitle">空気を読んだ雨降らないでよ</span>
        
        <hr class="panel-cover__divider" />
        <p class="panel-cover__description"></p>
        <hr class="panel-cover__divider panel-cover__divider--secondary" />

        <div class="navigation-wrapper">
          <div>
          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">
              <li class="navigation__item"><a href="/#blog" title="访问博客" class="blog-button">主页</a></li>
            
              <li class="navigation__item"><a href="/archives">所有文章</a></li>
            
              <li class="navigation__item"><a href="/categories">文章分类</a></li>
            
            </ul>
          </nav>
          </div>
          <div>
          <nav class="cover-navigation navigation--social">
  <ul class="navigation">

  <!-- Weibo-->
  

  <!-- Github -->
  
  <li class="navigation__item">
    <a href="https://github.com/shevakuilin" title="查看我的GitHub主页" target="_blank">
      <i class='social fa fa-github'></i>
      <span class="label">Github</span>
    </a>
  </li>


<!-- Stack Overflow -->
        

  <!-- Google Plus -->
  

<!-- Facebook -->

  
<!-- Twitter -->

  



  </ul>
</nav>

          </div>
        </div>

      </div>

    </div>

    <div class="panel-cover--overlay cover-disabled"></div>
  </div> 
</header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            <article class="post-container post-container--single">

  <header class="post-header">
    <div class="post-meta">
      <time datetime="2019-09-07T00:56:27.000Z" class="post-list__meta--date date">2019-09-07</time> &#8226; <span class="post-meta__tags tags">于 
  <a class="-none-link" href="/tags/Ghost%E5%8D%9A%E5%AE%A2/" rel="tag">Ghost博客</a>
 </span>
      <span class="page-pv">
       阅读 <span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span>
      </span> 
   
    </div>
    <h1 class="post-title">Ghost 博客完善指南</h1>
  </header>

  <section class="post">
    <p>本文主要介绍利用阿里云进行域名备案的详细流程，Ghost 博客接入 Disque、全站 HTTPS 配置、CDN 图床配置、汉化、代码高亮、修改字体等配置。<a id="more"></a></p>
<img src="https://github.com/shevakuilin/GhostPostsImages/raw/master/69633404_p0_master1200.jpg">

<h2 id="域名备案"><a href="#域名备案" class="headerlink" title="域名备案"></a>域名备案</h2><p>为了让网站的域名能够正常的访问到，我们需要申请管局的备案，由于此前买的是阿里云的 ECS，所以直接使用阿里云来进行备案，步骤非常简单。而且最爽的是，你在阿里云进行备案，花费多长时间，就会送你多长时间的 ECS 使用时间，相当于免费的续费服务。<br><img src="https://github.com/shevakuilin/GhostPostsImages/raw/master/WechatIMG484.jpeg" width="800" height ="856" /></p>
<h2 id="备案流程"><a href="#备案流程" class="headerlink" title="备案流程"></a>备案流程</h2><h4 id="1-验证备案类型："><a href="#1-验证备案类型：" class="headerlink" title="1.验证备案类型："></a>1.验证备案类型：</h4><p>填写部分主体和网站信息，系统将根据你所填写的信息，自动验证你要办理的备案类型。<br><img src="https://github.com/shevakuilin/GhostPostsImages/raw/master/156439620646090_zh-CN.png" width="800" height ="407" /></p>
<h4 id="2-产品验证："><a href="#2-产品验证：" class="headerlink" title="2.产品验证："></a>2.产品验证：</h4><p>对搭建备案网站的云服务器进行验证。<br><img src="https://github.com/shevakuilin/GhostPostsImages/raw/master/156439614350083_zh-CN.png" width="800" height ="332" /></p>
<h4 id="3-填写主体信息和网站信息："><a href="#3-填写主体信息和网站信息：" class="headerlink" title="3.填写主体信息和网站信息："></a>3.填写主体信息和网站信息：</h4><p>填写网站信息以及办理备案的个人或者单位的真实信息，按照内容填写即可，详情<a target="_blank" rel="noopener" href="https://help.aliyun.com/knowledge_detail/36948.html#section-e7u-ig4-58s">参考</a>。</p>
<h4 id="4-上传资料及真实性核验："><a href="#4-上传资料及真实性核验：" class="headerlink" title="4.上传资料及真实性核验："></a>4.上传资料及真实性核验：</h4><p>下载阿里云 APP，然后上传证件照片或证件彩色扫描件，并通过人脸识别完成真实性核验。完成这一步之后，就不需要再进行幕布拍照然后寄回去审核的繁琐步骤了。</p>
<h4 id="5-信息确认："><a href="#5-信息确认：" class="headerlink" title="5.信息确认："></a>5.信息确认：</h4><p>完成备案信息填写及资料上传、真实性核验后，需要对所有信息做最终确认，以保证信息真实准确，避免备案申请被驳回。</p>
<h4 id="6-备案初审："><a href="#6-备案初审：" class="headerlink" title="6.备案初审："></a>6.备案初审：</h4><p>备案申请信息提交后，阿里云将在 1 个工作日进行初审。需要保持备案信息中的联系电话畅通以便阿里云的工作人员与你核实信息，一般第二天就会给你打电话进行确认。</p>
<h4 id="7-邮寄资料："><a href="#7-邮寄资料：" class="headerlink" title="7.邮寄资料："></a>7.邮寄资料：</h4><p>根据你提交的资料及各地管局的要求，有可能需要你按照系统指示邮寄资料至指定地点，不过一般都不需要。</p>
<h4 id="8-短信核验："><a href="#8-短信核验：" class="headerlink" title="8.短信核验："></a>8.短信核验：</h4><p>天津、甘肃、西藏、宁夏、海南、新疆、青海、浙江、四川、福建、陕西、重庆、广西、云南、山东、河南、安徽、湖南、山西、黑龙江、内蒙古、湖北，这些省份的备案信息需要进行短信核验，你会在初审通过后的几小时内收到由 <code>工信部备案系统</code> 发送的验证码，进入短信提供的链接地址，输入验证码进行确认，需要在 24 小时之内完成验证，否则审核会被驳回。</p>
<p>短信验证完成后，备案申请流程自动提交至管局审核。</p>
<h4 id="9-管局审核："><a href="#9-管局审核：" class="headerlink" title="9.管局审核："></a>9.管局审核：</h4><p>初审完成后，阿里云备案审核专员会将备案申请转交至对应管局处做最终的管局审核。管局审核通过后你的备案即已完成，审核结果会发送 <code>短信</code>、<code>邮箱</code>通知，通知内会告诉你备案号及备案密码等信息。</p>
<p>备案申请信息成功提交至管局系统后，管局审核一般为 <code>3~20 个工作日</code>，不过一般都是一周左右，我大概是 8 天就收到了短信和邮件。</p>
<h3 id="10-备案号显示在网站页脚："><a href="#10-备案号显示在网站页脚：" class="headerlink" title="10.备案号显示在网站页脚："></a>10.备案号显示在网站页脚：</h3><p>备案通过后，需要在网站的页脚显示备案号，并链接到<a target="_blank" rel="noopener" href="http://beian.miit.gov.cn/">工信部的网站</a>。</p>
<p>复制下面代码，替换后插入网站页脚：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://beian.miit.gov.cn/&quot;</span> <span class="attr">style</span>=<span class="string">&quot;color: #ffffff&quot;</span>&gt;</span>  你的备案号<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="Disque"><a href="#Disque" class="headerlink" title="Disque"></a>Disque</h1><p>如果你需要一个快速的方法来获得 Ghost 网站上的全功能评论，Disqus 是最适合的。</p>
<blockquote>
<p>注意：虽然 Disqus 是免费的，但它<a target="_blank" rel="noopener" href="https://techcrunch.com/2017/12/05/zeta-global-acquires-commenting-service-disqus/">在 2017 年被一家广告技术公司收购</a>，可能会在您的网站上注入广告和广告跟踪器。</p>
</blockquote>
<h3 id="1-复制Ghost-Disqus评论代码"><a href="#1-复制Ghost-Disqus评论代码" class="headerlink" title="1.复制Ghost-Disqus评论代码"></a>1.复制Ghost-Disqus评论代码</h3><p>首先，将此 Ghost-Specific Disqus 评论代码复制到剪贴板上。这与 Disqus 通用代码不同，这是专门针对 Ghost 主题进行的定制代码段：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;disqus_thread&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> disqus_config = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="handlebars"><span class="xml">	this.page.url = &quot;</span><span class="template-variable">&#123;&#123;<span class="name">url</span> <span class="attr">absolute</span>=<span class="string">&quot;true&quot;</span>&#125;&#125;</span><span class="xml">&quot;;  </span></span></span><br><span class="line"><span class="handlebars"><span class="xml">	this.page.identifier = &quot;ghost-</span><span class="template-variable">&#123;&#123;<span class="name">comment_id</span>&#125;&#125;</span><span class="xml">&quot;</span></span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="javascript">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> d = <span class="built_in">document</span>, s = d.createElement(<span class="string">&#x27;script&#x27;</span>);</span></span><br><span class="line"><span class="javascript">s.src = <span class="string">&#x27;https://EXAMPLE.disqus.com/embed.js&#x27;</span>;</span></span><br><span class="line"><span class="javascript">s.setAttribute(<span class="string">&#x27;data-timestamp&#x27;</span>, +<span class="keyword">new</span> <span class="built_in">Date</span>());</span></span><br><span class="line">(d.head || d.body).appendChild(s);</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-将注释代码粘贴到-post-hbs-中"><a href="#2-将注释代码粘贴到-post-hbs-中" class="headerlink" title="2.将注释代码粘贴到 post.hbs 中"></a>2.将注释代码粘贴到 post.hbs 中</h3><p>进入主题文件夹，找到 <code>post.hbs</code> ，进入编辑：</p>
<figure class="highlight plain"><figcaption><span>basic</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim post.hbs</span><br></pre></td></tr></table></figure>

<p>如果你使用的是默认主题 <strong>Casper</strong>，会看到专门为插入注释而保留的一行代码。这就是你要粘贴 Disqus 代码的地方：</p>
<img src="https://github.com/shevakuilin/GhostPostsImages/raw/master/image-15.png" width="800" height ="172" />

<p>注意：需要将第 65 行和第 69 行的注释删除。</p>
<h3 id="3-找到你的-Disqus-shortname"><a href="#3-找到你的-Disqus-shortname" class="headerlink" title="3.找到你的 Disqus shortname"></a>3.找到你的 Disqus shortname</h3><p>访问 <a target="_blank" rel="noopener" href="https://disqus.com/admin/">Disqus Admin</a>，创建一个站点或选择一个现有站点。从站点的设置区域中，找到shortname并复制它。<br><img src="https://github.com/shevakuilin/GhostPostsImages/raw/master/image-16.png" width="800" height ="242" /></p>
<h3 id="4-插入-shortname-到-Disqus-代码中"><a href="#4-插入-shortname-到-Disqus-代码中" class="headerlink" title="4.插入 shortname 到 Disqus 代码中"></a>4.插入 shortname 到 Disqus 代码中</h3><p>将下面代码中的 <code>EXAMPLE</code> 替换为你的 <code>shortname</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s.src = &#x27;https://EXAMPLE.disqus.com/embed.js&#x27;;</span><br></pre></td></tr></table></figure>

<p>保存退出，重启 Ghsot 即可生效。</p>
<h1 id="全站-HTTPS"><a href="#全站-HTTPS" class="headerlink" title="全站 HTTPS"></a>全站 HTTPS</h1><p><a target="_blank" rel="noopener" href="https://github.com/certbot/certbot">Certbot (Let’s Encrypt)</a> 是一个公共的免费 SSL 项目，使用简单方便，由 Mozilla、思科、Akamai、IdenTrust 和 EFF 等组织发起，Facebook 等大公司赞助，目的就是向网站自动签发和管理免费证书，以便加速互联网由 HTTP 过渡到 HTTPS。</p>
<h2 id="选择反向代理服务器-amp-系统"><a href="#选择反向代理服务器-amp-系统" class="headerlink" title="选择反向代理服务器 &amp; 系统"></a>选择反向代理服务器 &amp; 系统</h2><p>进入 <a target="_blank" rel="noopener" href="https://certbot.eff.org/">官网</a>，按下图箭头所示选择你的反向代理服务器和系统，我选择的是 Nginx 和 CentOS 7，请参照你自己的具体情况进行选择。</p>
<img src="https://github.com/shevakuilin/GhostPostsImages/raw/master/WechatIMG473.png" width="800" height ="428" />

<p>选择完成后会自动跳转到对应的文档，然后一步步按照文档说明操作，即可完成<code>安装</code>和 <code>HTTPS 证书自动续订</code>的工作。</p>
<h3 id="1-SSH进入服务器"><a href="#1-SSH进入服务器" class="headerlink" title="1.SSH进入服务器"></a>1.SSH进入服务器</h3><p>以具有 sudo 权限的用户身份 SSH 进入运行 HTTP 网站的服务器。</p>
<h3 id="2-启用EPEL"><a href="#2-启用EPEL" class="headerlink" title="2.启用EPEL"></a>2.启用EPEL</h3><p>按照 Fedora wiki 上的这些说明 <a target="_blank" rel="noopener" href="https://fedoraproject.org/wiki/EPEL#How_can_I_use_these_extra_packages.3F">启用EPEL</a>。</p>
<p>EPEL 包含在 CentOS Extras 存储库中，默认情况下已启用，为了保险起见还是安装检查一下：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install epel-release # 安装 EPEL</span><br></pre></td></tr></table></figure>

<h3 id="3-启用可选通道-CentOS-系统跳过这一步"><a href="#3-启用可选通道-CentOS-系统跳过这一步" class="headerlink" title="3.启用可选通道 (CentOS 系统跳过这一步)"></a>3.启用可选通道 (CentOS 系统跳过这一步)</h3><p>只有使用的是 RHE L或 Oracle Linux，才需要启用可选通道。在 EC2 上，RHEL 用户可以通过运行以下命令启用可选通道，在命令中将 EC2 区域替换为 REGION：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ yum -<span class="keyword">y</span> install yum-utils</span><br><span class="line"># yum-config-manager --enable rhui-REGION-rhel-server-extras rhui-REGION-rhel-server-optional</span><br></pre></td></tr></table></figure>

<h3 id="4-初始化-Certbot"><a href="#4-初始化-Certbot" class="headerlink" title="4.初始化 Certbot"></a>4.初始化 Certbot</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum install certbot python2-certbot-nginx</span><br></pre></td></tr></table></figure>

<p>一路选择 <code>y</code>，直到出现 <code>Complete!</code></p>
<p>这时你可能会看到一个 <code>Failed</code> 的失败提示：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Failed:</span><br><span class="line">  <span class="keyword">python</span>-urllib3.noarch <span class="number">0</span>:<span class="number">1.10</span>.<span class="number">2</span>-<span class="number">5</span>.el7</span><br></pre></td></tr></table></figure>

<p>暂时忽略，在下一步中解决。</p>
<h3 id="5-选择如何运行-Certbot-amp-获取并安装-HTTPS-证书"><a href="#5-选择如何运行-Certbot-amp-获取并安装-HTTPS-证书" class="headerlink" title="5.选择如何运行 Certbot &amp; 获取并安装 HTTPS 证书"></a>5.选择如何运行 Certbot &amp; 获取并安装 HTTPS 证书</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo certbot --nginx</span><br></pre></td></tr></table></figure>

<p>该命令会获取一个 HTTPS 证书，并让 Certbot 自动编辑你的 Nginx 配置来支持 HTTPS。</p>
<p>这个时候你会收到一个报错信息：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ImportError: No module named <span class="string">&#x27;requests.packages.urllib3&#x27;</span></span><br></pre></td></tr></table></figure>

<p>这是 Python 的模块版本的问题，卸载现有版本的 <code>requests</code> 和 <code>urllib3</code>，然后重新安装：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ pip uninstall requests</span><br><span class="line">$ pip uninstall urllib3</span><br><span class="line">$ yum <span class="built_in">remove</span> <span class="keyword">python</span>-urllib3</span><br><span class="line">$ yum <span class="built_in">remove</span> <span class="keyword">python</span>-requests</span><br><span class="line">$ yum install <span class="keyword">python</span>-urllib3</span><br><span class="line">$ yum install <span class="keyword">python</span>-requests</span><br><span class="line">$ sudo yum install certbot python2-certbot-nginx</span><br></pre></td></tr></table></figure>

<p>再次执行：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo certbot --nginx</span><br></pre></td></tr></table></figure>

<p>ok 没有了刚才的问题，继续刚才被中断的流程:</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Which names would you like <span class="keyword">to</span> activate HTTPS <span class="keyword">for</span>?</span><br><span class="line">- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span><br><span class="line"><span class="number">1</span>: shevakuilin.<span class="keyword">com</span></span><br><span class="line">- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span><br><span class="line">Select the appropriate numbers separated by commas <span class="built_in">and</span>/<span class="built_in">or</span> spaces, <span class="built_in">or</span> leave <span class="built_in">input</span></span><br><span class="line">blank <span class="keyword">to</span> select <span class="keyword">all</span> <span class="keyword">options</span> shown (Enter <span class="string">&#x27;c&#x27;</span> <span class="keyword">to</span> cancel): <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>选择你准备配置 HTTPS 的域名，输入域名前的数字。</p>
<p>看到下列信息表示你的 HTTPS 已经全部配置完成了：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span><br><span class="line">Congratulations! You have successfully enabled http<span class="variable">s:</span>//shevakuilin.<span class="keyword">com</span></span><br></pre></td></tr></table></figure>

<p>在这段信息下面的 <code>IMPORTANT NOTES</code> 中，会列出你的证书安装路径，以及到期时间。</p>
<h3 id="6-自动续订-HTTPS-证书"><a href="#6-自动续订-HTTPS-证书" class="headerlink" title="6. 自动续订 HTTPS 证书"></a>6. 自动续订 HTTPS 证书</h3><p>为了安全起见，Certbot 默认的证书过期时间是 <code>90</code> 天，执行下面的命令，就不需要担心这一点了，会自动续订我们的 HTTPS 证书：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">echo</span> <span class="string">&quot;0 0,12 * * * root python -c &#x27;import random; import time; time.sleep(random.random() * 3600)&#x27; &amp;&amp; certbot renew&quot;</span> | sudo tee -<span class="keyword">a</span> /etc/crontab &gt; /dev/null</span><br></pre></td></tr></table></figure>

<h3 id="7-测试"><a href="#7-测试" class="headerlink" title="7. 测试"></a>7. 测试</h3><p>现在你就可以测试你的 HTTPS 新网站了，测试配置地址：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http<span class="variable">s:</span>//www.ssllabs.<span class="keyword">com</span>/ssltest/analyze.html?d=shevakuilin.<span class="keyword">com</span></span><br></pre></td></tr></table></figure>

<p>shevakuilin.com 换成你自己的域名。</p>
<p>然后直接打开浏览器，输入你自己的域名，就能看到 HTTPS 的网站了。</p>
<h1 id="DNS-CAA"><a href="#DNS-CAA" class="headerlink" title="DNS CAA"></a>DNS CAA</h1><p>Todo…</p>
<h1 id="CDN-图床"><a href="#CDN-图床" class="headerlink" title="CDN 图床"></a>CDN 图床</h1><p>Todo…</p>
<h1 id="汉化"><a href="#汉化" class="headerlink" title="汉化"></a>汉化</h1><p>Todo…</p>
<h1 id="代码高亮"><a href="#代码高亮" class="headerlink" title="代码高亮"></a>代码高亮</h1><p>Ghost 默认是不提供代码高亮支持的，但是在后台提供了一个代码插入的配置入口 <code>Code injection</code>，可以在其中嵌入第三方插件的高亮代码。</p>
<p>以 <code>highlight.js</code> 为例，我们使用<a target="_blank" rel="noopener" href="https://www.bootcdn.cn/highlight.js/">这个网站</a>提供的 CDN，进入该网站后，选择你想要高亮的语言，<strong>注意：每个语言的高亮必须独立支持，也就是说，你没有相应语言的高亮代码，该语言就不会有高亮效果</strong>。</p>
<h2 id="设置-Code-injection"><a href="#设置-Code-injection" class="headerlink" title="设置 Code injection"></a>设置 Code injection</h2><p>首先进入你的 Ghost 后台，在浏览器中输入 <code>域名/ghost</code>，在设置里找到 <code>Code injection</code>。</p>
<p>以我的高亮代码为例，在 <code>Site Header</code> 中填入：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;https://cdn.bootcss.com/highlight.js/9.15.10/styles/monokai-sublime.min.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在 <code>Site footer</code> 中填入：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcss.com/highlight.js/9.15.10/highlight.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcss.com/highlight.js/9.15.10/languages/swift.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcss.com/highlight.js/9.15.10/languages/objectivec.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcss.com/highlight.js/9.15.10/languages/cpp.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcss.com/highlight.js/9.15.10/languages/ruby.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcss.com/highlight.js/9.15.10/languages/java.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcss.com/highlight.js/9.15.10/languages/javascript.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcss.com/highlight.js/9.15.10/languages/php.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcss.com/highlight.js/9.15.10/languages/python.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcss.com/highlight.js/9.15.10/languages/go.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcss.com/highlight.js/9.15.10/languages/json.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcss.com/highlight.js/9.15.10/languages/css.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcss.com/highlight.js/9.15.10/languages/vim.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcss.com/highlight.js/9.15.10/languages/shell.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcss.com/highlight.js/9.15.10/languages/bash.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span>hljs.initHighlightingOnLoad();<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>然后保存设置。</p>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>以 <code>Swift</code> 代码高亮为例，你只需要</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​&#96;&#96;&#96; Swift</span><br><span class="line">代码 </span><br><span class="line">​&#96;&#96;&#96; </span><br></pre></td></tr></table></figure>

<h1 id="支持-LaTeX"><a href="#支持-LaTeX" class="headerlink" title="支持 LaTeX"></a>支持 LaTeX</h1><p>借助 <a target="_blank" rel="noopener" href="https://www.mathjax.org/">MathJax</a> 可以轻松的在 Ghost 中插入各种基于 LaTeX 语法的数学公式。</p>
<h2 id="MathJax-的特点："><a href="#MathJax-的特点：" class="headerlink" title="MathJax 的特点："></a>MathJax 的特点：</h2><ol>
<li>使用 CSS 和 Web fonts 或者 SVG 实时渲染，而不是图片，因此在缩放上具有“矢量”优势。</li>
<li>适用于浏览器，只用引入一个 JavaScript 文件即可实现。</li>
<li>缺点是，过多的数学公式，可能会降低页面的加载速度。</li>
</ol>
<h2 id="使用-1"><a href="#使用-1" class="headerlink" title="使用"></a>使用</h2><p>与设置代码高亮相同，在 <code>Site Header</code> 中加入：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span> <span class="keyword">async</span></span><br><span class="line">  src=<span class="string">&quot;https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML&quot;</span>&gt;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>上面使用的是官方 CDN，也可以下载 JavaScript 文件到自己的服务器进行引用。由于 MathJax 会对页面加载速度有一定的性能损失，故不建议在整个博客中进行加载。可以在需要使用数学公式的 Markdown 文档的开通，直接引入即可。</p>
<h1 id="修改字体"><a href="#修改字体" class="headerlink" title="修改字体"></a>修改字体</h1><p>在浏览器中输入 <code>域名/ghost</code>进入后台，在设置里找到 <code>Code injection</code>。</p>
<p>将你的字体添加到 <code>Site Header</code> ：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--  加载google字体 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">href</span>=<span class="string">&quot;//fonts.googleapis.com/css?family=Droid+Sans+Mono&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  设置字体 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-tag">body</span>,<span class="selector-tag">p</span>,<span class="selector-tag">code</span>,<span class="selector-tag">h1</span>, <span class="selector-tag">h2</span>, <span class="selector-tag">h3</span>, <span class="selector-tag">h4</span>, <span class="selector-tag">h5</span>, <span class="selector-tag">h6</span>,<span class="selector-class">.hljs</span> &#123;</span></span><br><span class="line">    font-family: &#x27;Droid Sans Mono&#x27;, monospace;</span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-class">.hljs</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">font-size</span>: 0<span class="selector-class">.5em</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>字体库可以在谷歌的<a target="_blank" rel="noopener" href="http://www.googlefonts.cn/">字体库</a>里找。</p>
<h1 id="自定义主题"><a href="#自定义主题" class="headerlink" title="自定义主题"></a>自定义主题</h1><p>Todo…</p>
<p>参考链接：<br><a target="_blank" rel="noopener" href="https://certbot.eff.org/">Certbot</a><br><a target="_blank" rel="noopener" href="https://certbot.eff.org/lets-encrypt/centosrhel7-nginx">Centosrhel7-nginx</a><br><a target="_blank" rel="noopener" href="https://fedoraproject.org/wiki/EPEL#How_can_I_use_these_extra_packages.3F">How_can_I_use_these_extra_packages</a><br><a target="_blank" rel="noopener" href="https://www.52zheteng.info/%E6%9C%8D%E5%8A%A1%E5%99%A8/centos7-%E4%BD%BF%E7%94%A8certbot-%E5%87%BA%E7%8E%B0-requests-packages-urllib3-%E9%94%99%E8%AF%AF-%E7%9A%84%E5%A4%84%E7%90%86/">centos7部署certbot 出现 requests.packages.urllib3 错误 的处理</a><br><a target="_blank" rel="noopener" href="https://zoco.me/post/certbot-requests-packages-urllib3-resolve">Certbot提示requests.packages.urllib3解决</a><br><a target="_blank" rel="noopener" href="https://help.aliyun.com/knowledge_detail/36922.html">首次备案</a><br><a target="_blank" rel="noopener" href="https://imshuai.com/writing-math-formula-by-mathjax-in-markdown">使用MathJax在Ghost博客插入数学公式</a></p>

  </section>

</article>

<section class="read-more">
           
    
               
            <div class="read-more-item">
                <span class="read-more-item-dim">最近的文章</span>
                <h2 class="post-list__post-title post-title"><a href="/lc167-twosumii/" title="两数之和 - 输入有序数组">两数之和 - 输入有序数组</a></h2>
                <p class="excerpt">
                
                利用「双指针对撞」、「二分查找」来解决有序数组的搜索问题，难度简单。
                &hellip;
                </p>
                <div class="post-list__meta"><time datetime="2019-09-17T05:23:02.000Z" class="post-list__meta--date date">2019-09-17</time> &#8226; <span class="post-list__meta--tags tags">于 
  <a class="-none-link" href="/tags/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/" rel="tag">二分查找</a>, <a class="-none-link" href="/tags/%E5%8F%8C%E6%8C%87%E9%92%88%E5%AF%B9%E6%92%9E/" rel="tag">双指针对撞</a>
</span><a class="btn-border-small" href="/lc167-twosumii/">开始阅读</a></div>
                           
            </div>
        
        
               
            <div class="read-more-item">
                <span class="read-more-item-dim">更早的文章</span>
                <h2 class="post-list__post-title post-title"><a href="/build-ghost-on-centos7/" title="如何在 CentOS 7 上搭建一个 Ghost 博客">如何在 CentOS 7 上搭建一个 Ghost 博客</a></h2>
                <p class="excerpt">
                
                Ghost 是一套基于 Node.js 构建的开原博客平台（Open source blogging platform），目标是取代臃肿的 Wordpress，界面简洁，专注写作，支持在线预览和在线写作。
                &hellip;
                </p>
                <div class="post-list__meta"><time datetime="2019-09-03T06:48:26.000Z" class="post-list__meta--date date">2019-09-03</time> &#8226; <span class="post-list__meta--tags tags">于 
  <a class="-none-link" href="/tags/Ghost%E5%8D%9A%E5%AE%A2%EF%BC%8CCentOS7/" rel="tag">Ghost博客，CentOS7</a>
</span><a class="btn-border-small" href="/build-ghost-on-centos7/">开始阅读</a></div>
                       
            </div>
        
     
   
   
  
</section>

  
<section class="post-comments">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
      var disqus_shortname = 'warpdrive'; 
      
  var disqus_identifier = '/ghost-guide/';
  var disqus_title = 'Ghost 博客完善指南';
  var disqus_url = 'http://shevakuilin.com/ghost-guide/';
  

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          //dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
          dsq.src = 'https://a.disquscdn.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a target="_blank" rel="noopener" href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>


            <footer class="footer">
    <span class="footer__copyright">
        &copy; 2020 ShevaKuilin - 跃迁引擎 <a target="_blank" rel="noopener" href="http://beian.miit.gov.cn/"> 渝ICP备 19012091</a>, 本站点采用 <a target="_blank" rel="noopener" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>
       
    </span>
    <span class="footer__copyright">
             - 基于 <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a> 搭建，使用 <a target="_blank" rel="noopener" href="https://github.com/monniya/hexo-theme-new-vno ">new-vno</a> 主题，由<a target="_blank" rel="noopener" href="https://monniya.com ">@Monniya</a> 修改自 <a href="https://github.com/lenbo-ma/hexo-theme-vno" target="_blank">Vno</a>, 原创出自<a href="http://github.com/onevcat/vno" target="_blank">onevcat</a>
         </span>
       
    
    
</footer>


        </div>
    </div>

     
    


    <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    
    
</body>
</html>
